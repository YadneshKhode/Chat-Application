(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(2),c=a.n(n),r=a(15),o=a(88),i=a(31),l=a.n(i),u=(a(72),a(20)),j=a(51),d=(a(111),a(89)),m=a.n(d),h=a(59),b=a(16),O={ADD_USERNAME:"ADD_USERNAME",ADD_ROOM:"ADD_ROOM",ADD_CURRENT_MESSAGE:"ADD_CURRENT_MESSAGE",ADD_TO_MESSAGES:"ADD_TO_MESSAGES",CLEAR_STATE:"CLEAR_STATE",ADD_IN_USERS:"ADD_IN_USERS"},p={username:"",room:"",message:"",messages:[],usersList:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.ADD_USERNAME:return Object(b.a)(Object(b.a)({},e),{},{username:t.payload});case O.ADD_ROOM:return Object(b.a)(Object(b.a)({},e),{},{room:t.payload});case O.ADD_CURRENT_MESSAGE:return Object(b.a)(Object(b.a)({},e),{},{message:t.payload});case O.ADD_TO_MESSAGES:return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(h.a)(e.messages),[t.payload])});case O.CLEAR_STATE:return{username:"",room:"",message:"",messages:[]};case O.ADD_IN_USERS:return Object(b.a)(Object(b.a)({},e),{},{usersList:t.payload});default:return e}},x={LOGIN:"LOGIN",LOGOUT:"LOGOUT"},_={user:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.LOGIN:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload});case x.LOGOUT:return Object(b.a)(Object(b.a)({},e),{},{user:null});default:return e}},N={key:"root",storage:m.a,whitelist:["chat","user"]},y=Object(u.c)({chat:f,user:g}),v=Object(j.a)(N,y);var S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,E=Object(u.e)(v,S(u.a.apply(void 0,[]))),A=Object(j.b)(E),D=(j.b,a(114),a(44)),R=a(166),C=a(90),T=a.n(C),M=a(94),L=a.n(M),I=c.a.memo((function(e){var t=e.message,a=e.setMessage,n=e.sendMessage;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("form",{children:Object(s.jsx)("input",{type:"text",placeholder:"Type a message",value:t,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}})}),Object(s.jsx)(R.a,{onClick:function(e){return n(e)},children:Object(s.jsx)(L.a,{className:"white"})})]})})),U=function(e){var t=e.mess,a=t.user,c=t.message,r=t.createdAt,o=e.username,i=e.i,l=e.length,u=!1;a===o&&(u=!0);var j=Object(n.useRef)();return Object(n.useEffect)((function(){j.current&&j.current.scrollIntoView({smooth:!0})})),u?Object(s.jsxs)("div",{className:"chat__message chat__receiver",ref:i===l?j:null,children:[Object(s.jsx)("span",{className:"chat__name",children:a}),Object(s.jsxs)("div",{className:"chatContainer",children:[Object(s.jsx)("span",{className:"chat__mess",children:c}),Object(s.jsx)("span",{className:"chat__timestamp",children:r})]})]}):Object(s.jsxs)("div",{className:"chat__message",ref:i===l?j:null,children:[Object(s.jsx)("span",{className:"chat__name",children:a}),c,Object(s.jsx)("span",{className:"chat__timestamp",children:r})]})},w=c.a.memo((function(e){var t=e.username,a=e.messages,n=e.room,c=a.filter((function(e){return e.room===n})),r=c.length-1;return Object(s.jsx)(s.Fragment,{children:c.map((function(e,a){return Object(s.jsx)("div",{children:Object(s.jsx)(U,{mess:e,username:t,length:r,i:a})},a)}))})})),G=Object(r.b)((function(e){return{username:e.chat.username,messages:e.chat.messages,room:e.chat.room}}))(w),P=a(99),k=a.n(P),z=Object(r.b)((function(e){return{room:e.chat.room,messages:e.chat.messages}}))((function(e){var t,a=e.room,n=e.messages;return t=n.length>0?n[n.length-1].createdAt:"",Object(s.jsxs)("div",{className:"chat__headerInfo",children:[Object(s.jsxs)("h3",{className:"white",children:[a," \xa0"]}),Object(s.jsxs)("p",{className:"white",children:["Last message at ",t]})]})})),F=a(100),B=a.n(F),K=a(22),q=function(){return{type:x.LOGOUT}},J=a(60),V=(J.a.initializeApp({apiKey:"AIzaSyBq6aBUf_3EnNoiGHxYdc5yoniFqQ1NMmc",authDomain:"chat-application-1ad88.firebaseapp.com",projectId:"chat-application-1ad88",storageBucket:"chat-application-1ad88.appspot.com",messagingSenderId:"410508817932",appId:"1:410508817932:web:35e04662df4676793aa029",measurementId:"G-YCHSK7SQ8L"}).firestore(),J.a.auth()),Y=new J.a.auth.GoogleAuthProvider,H=a(96),Q=a.n(H),W=a(97),X=a.n(W),Z=a(98),$=a.n(Z),ee=a(68),te=a.n(ee),ae=a(95);function se(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))}function ne(){return(ne=Object(ae.a)(te.a.mark((function e(){var t,a,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se("https://checkout.razorpay.com/v1/checkout.js");case 2:if(t=e.sent,console.log("halo"),t){e.next=7;break}return alert("Razorpay SDK failed to load"),e.abrupt("return");case 7:return e.next=9,fetch("http://localhost:5000/razorpay",{method:"POST"}).then((function(e){return e.json()}));case 9:a=e.sent,console.log(a),s={key:"rzp_test_Vja9sKOBjy7E5Z",amount:a.amount,currency:a.currency,name:"Acme Corp",description:"Test Transaction",image:"https://example.com/your_logo",order_id:a.id,handler:function(e){alert("Payment Successful \n Payment Id = "+e.razorpay_payment_id+" \n Order Id = "+e.razorpay_order_id+" \n Signature = "+e.razorpay_signature)},prefill:{name:"Yadnesh Khode Creator",email:"yadneshkhode@gmail.com",contact:"9999999999"},notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}},new window.Razorpay(s).open();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce,re=function(){return ne.apply(this,arguments)},oe=function(){return{type:O.CLEAR_STATE}},ie=a(167),le=function(e){var t=e.username,a=e.displayPhoto;return Object(s.jsxs)("div",{className:"sidebarChat",children:[Object(s.jsx)(ie.a,{src:a,alt:"profile-pic"}),Object(s.jsx)("div",{className:"sidebar__chatInfo",children:Object(s.jsx)("h2",{children:t})})]})},ue=c.a.memo((function(e){var t,a=e.addUserName,c=e.addRoomName,r=e.addMessage,o=e.addMessToArr,i=e.clearChatState,l=e.logout,u=e.addToUsers,j=e.displayPhoto,d=e.usersList,m=e.email,b=e.username,O=e.room,p=Object(n.useState)(""),f=Object(D.a)(p,2),x=f[0],_=f[1],g=Object(n.useState)([]),N=Object(D.a)(g,2),y=N[0],v=N[1],S=Object(n.useState)([]),E=Object(D.a)(S,2),A=E[0],C=E[1];t="http://localhost:5000/",Object(n.useEffect)((function(){return(ce=T()(t)).emit("join",{username:b,room:O,displayPhoto:j,email:m},(function(e){e&&alert(e)})),function(){ce.off("join")}}),[t,c,O,b,a,j,m]),Object(n.useEffect)((function(){return ce.on("message",(function(e){v([].concat(Object(h.a)(y),[e])),o(e)})),function(){ce.off("message")}}),[y,o,u]),Object(n.useEffect)((function(){return ce.on("roomData",(function(e){var t=e.users;u(t)})),function(){ce.off("roomData")}}));return Object(s.jsxs)("div",{className:"chat",children:[Object(s.jsxs)("div",{className:"chat__header",children:[Object(s.jsx)(Q.a,{className:"groupIcon"}),Object(s.jsx)(R.a,{children:Object(s.jsxs)("div",{className:"tooltip",children:[Object(s.jsx)(X.a,{className:"white memberIcon",onClick:function(){C(!A)}}),Object(s.jsx)("span",{className:"tooltiptext",children:"Group Members"})]})}),Object(s.jsx)(z,{room:O}),Object(s.jsxs)("div",{className:"chat__headerRight",children:[Object(s.jsx)(R.a,{children:Object(s.jsxs)("div",{className:"tooltip",children:[Object(s.jsx)($.a,{className:"white",onClick:function(){re(),console.log("money sent")}}),Object(s.jsx)("span",{className:"tooltiptext",children:"Send Money"})]})}),Object(s.jsx)(R.a,{children:Object(s.jsxs)("div",{className:"tooltip",children:[Object(s.jsx)(K.b,{to:"/room",className:"exit__button",children:Object(s.jsx)(k.a,{className:"white"})}),Object(s.jsx)("span",{className:"tooltiptext",children:"Exit Chat Room"})]})}),Object(s.jsx)(R.a,{children:Object(s.jsx)("div",{className:"tooltip",children:Object(s.jsxs)(K.b,{to:"/",className:"logout__button",onClick:function(){l(),i(),V.signOut()},children:[Object(s.jsx)("span",{className:"tooltiptext",children:"Log out"}),Object(s.jsx)(B.a,{className:"white"})]})})})]})]}),Object(s.jsx)("div",{className:"chat__body",children:A?Object(s.jsx)(G,{username:b,messages:y}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"sidebar__search",children:Object(s.jsx)("h4",{className:"userList",children:"Users currently online"})}),Object(s.jsx)("div",{className:"sidebar__chats",children:d?d.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)(le,{username:e.username,displayPhoto:e.displayPhoto})},t)})):Object(s.jsx)(le,{})})]})}),Object(s.jsx)("div",{className:"chat__footer",children:Object(s.jsx)(I,{message:x,setMessage:_,sendMessage:function(e){e.preventDefault(),x&&ce.emit("sendMessage",x,(function(){_(""),r("")}))}})})]})})),je=Object(r.b)((function(e){return{displayPhoto:e.user.user.photo,photo:e.user.user.photo,displayName:e.user.user.displayName,usersList:e.chat.usersList,email:e.user.user.email,username:e.chat.username,room:e.chat.room}}),(function(e){return{addMessage:function(t){return e(function(e){return{type:O.ADD_CURRENT_MESSAGE,payload:e}}(t))},addMessToArr:function(t){return e(function(e){return{type:O.ADD_TO_MESSAGES,payload:e}}(t))},clearChatState:function(){return e(oe())},logout:function(){return e(q())},addToUsers:function(t){return e(function(e){return{type:O.ADD_IN_USERS,payload:e}}(t))}}}))(ue),de=Object(r.b)((function(e){return{photo:e.user.user.photo,displayName:e.user.user.displayName,usersList:e.chat.usersList}}))((function(e){var t=e.photo,a=e.displayName,n=e.usersList;return Object(s.jsxs)("div",{className:"sidebar",children:[Object(s.jsxs)("div",{className:"sidebar__header",children:[Object(s.jsx)(ie.a,{src:t,alt:"profile-pic"}),Object(s.jsx)("div",{className:"sidebar__headerRight",children:Object(s.jsx)("h1",{className:"displayName",children:a})})]}),Object(s.jsx)("div",{className:"sidebar__search",children:Object(s.jsx)("h4",{className:"userList",children:"Group Members"})}),Object(s.jsx)("div",{className:"sidebar__chats",children:n?n.map((function(e,t){return Object(s.jsx)("div",{children:Object(s.jsx)(le,{username:e.username,displayPhoto:e.displayPhoto})},t)})):Object(s.jsx)(le,{})})]})})),me=function(){return Object(s.jsx)("div",{className:"app",children:Object(s.jsxs)("div",{className:"app__body",children:[Object(s.jsx)(de,{}),Object(s.jsx)(je,{})]})})},he=a(10),be=Object(r.b)((function(e){return{username:e.user.user.displayName}}),(function(e){return{addUserName:function(t){return e(function(e){return{type:O.ADD_USERNAME,payload:e}}(t))},addRoomName:function(t){return e(function(e){return{type:O.ADD_ROOM,payload:e}}(t))}}}))((function(e){var t=e.username,a=e.addUserName,c=e.addRoomName,r=Object(n.useState)(""),o=Object(D.a)(r,2),i=o[0],l=o[1];return Object(s.jsxs)("div",{className:"centered-form",children:[Object(s.jsxs)("div",{className:"centered-form__box",children:[Object(s.jsx)("h1",{className:"centered-form__title",children:"Enter Room Name"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("input",{className:"centered-form__input",type:"text",placeholder:"Room",onChange:function(e){return l(e.target.value)},required:!0}),Object(s.jsx)(K.b,{onClick:function(e){return t&&i?null:e.preventDefault()},to:"/chat",children:Object(s.jsx)("button",{className:"centered-form__button",type:"submit",onClick:function(){a(t),c(i)},children:"Join"})})]})]}),Object(s.jsx)("h1",{className:"information",children:" If using mobile use Mozilla Firefox "})]})})),Oe=(a(149),a.p+"static/media/chat.f2145cb2.png"),pe=function(){return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("div",{className:"forms-container",children:Object(s.jsx)("div",{className:"signin-signup",children:Object(s.jsxs)("form",{action:"#",className:"formclass sign-in-form",children:[Object(s.jsx)("h2",{className:"title",children:"Welcome to Chat-App"}),Object(s.jsx)("input",{type:"submit",onClick:function(e){e.preventDefault(),V.signInWithPopup(Y).catch((function(e){return alert(e.message)}))},value:"Login with Google",className:"btn solid"})]})})}),Object(s.jsx)("div",{className:"panels-container",children:Object(s.jsx)("div",{className:"panel left-panel",children:Object(s.jsx)("img",{src:Oe,className:"image",alt:""})})})]})},fe=a.p+"static/media/404error.4861ae77.svg",xe=Object(r.b)(null,(function(e){return{clearChatState:function(){return e(oe())},logout:function(){return e(q())}}}))((function(e){var t=e.clearChatState,a=e.logout;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"errorPage",src:fe,alt:"Error 404 Page Not Found"}),Object(s.jsx)(K.b,{className:"errorPage__link",to:"/",children:Object(s.jsx)("button",{onClick:function(){t(),a(),V.signOut()},children:"Go To Login Page"})})]})}));var _e=Object(he.g)(Object(r.b)((function(e){return{user:e.user.user}}),(function(e){return{login:function(t){return e(function(e){return{type:x.LOGIN,payload:e}}(t))},logout:function(){return e(q())}}}))((function(e){var t=e.user,a=e.login,c=e.logout;return Object(n.useEffect)((function(){V.onAuthStateChanged((function(e){e?a({uid:e.uid,photo:e.photoURL,email:e.email,displayName:e.displayName}):c()}))}),[a,c]),Object(s.jsx)("div",{children:Object(s.jsx)(K.a,{children:Object(s.jsxs)(he.d,{children:[Object(s.jsx)(he.b,{exact:!0,path:"/",render:function(){return t?Object(s.jsx)(he.a,{to:"/room"}):Object(s.jsx)(pe,{})}}),Object(s.jsx)(he.b,{exact:!0,path:"/room",component:be}),Object(s.jsx)(he.b,{exact:!0,path:"/chat",component:me}),Object(s.jsx)(he.b,{path:"*",component:xe})]})})})}))),ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};l.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(r.a,{store:E,children:Object(s.jsx)(K.a,{children:Object(s.jsx)(o.a,{persistor:A,children:Object(s.jsx)(_e,{})})})})}),document.getElementById("root")),ge()},72:function(e,t,a){}},[[150,1,2]]]);
//# sourceMappingURL=main.575e273d.chunk.js.map